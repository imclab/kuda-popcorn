{"version":"2.0.2","nextId":23,"citizens":[{"type":"hemi.KeyDispatcher","props":[{"name":"loadListeners","arg":[{"keyDown":{"citizens":[],"callbacks":[]},"keyUp":{"citizens":[],"callbacks":[]},"keyPress":{"citizens":[],"callbacks":[]}}]},{"name":"init","arg":[]}],"id":1},{"type":"hemi.Camera","props":[{"name":"name","val":"Main Camera"},{"name":"enableControl","arg":[]},{"name":"mode","val":{"scroll":true,"scan":true,"fixed":false,"control":true,"ortho":false}},{"name":"moveToView","arg":[{"eye":{"x":5.909105912698976,"y":34.290519216264556,"z":27.72374094617485},"target":{"x":0,"y":0,"z":0},"fov":0.707107,"np":1,"fp":10000},0]}],"id":3},{"type":"hemi.Scene","props":[],"id":4},{"type":"hemi.Client","props":[{"name":"_bgColor","val":16777215},{"name":"_bgAlpha","val":1},{"name":"setScene","arg":["id:4"]},{"name":"setCamera","arg":["id:3"]},{"name":"_init","arg":["kuda"]}],"id":5},{"type":"hemi.Model","props":[{"name":"name","val":"Mi24"},{"name":"autoLoad","val":true},{"name":"client","id":5},{"name":"root","id":7},{"name":"setFileName","arg":["assets/Mi24.dae"]}],"id":6},{"type":"hemi.Transform","props":[{"name":"name","val":"Mi24_root"},{"name":"pickable","val":true},{"name":"visible","val":true},{"name":"useQuaternion","val":false},{"name":"children","id":[8]},{"name":"position","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0}]}},{"name":"scale","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":1},{"name":"y","val":1},{"name":"z","val":1}]}},{"name":"rotation","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0}]}}],"id":7},{"type":"hemi.Transform","props":[{"name":"name","val":"sceneRoot"},{"name":"pickable","val":true},{"name":"visible","val":true},{"name":"useQuaternion","val":true},{"name":"children","id":[9]},{"name":"position","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0}]}},{"name":"scale","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":1},{"name":"y","val":1},{"name":"z","val":1}]}},{"name":"quaternion","oct":{"type":"THREE.Quaternion","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0},{"name":"w","val":1}]}}],"id":8},{"type":"hemi.Transform","props":[{"name":"name","val":"group"},{"name":"pickable","val":true},{"name":"visible","val":true},{"name":"useQuaternion","val":true},{"name":"children","id":[10]},{"name":"position","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0}]}},{"name":"scale","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":1},{"name":"y","val":1},{"name":"z","val":1}]}},{"name":"quaternion","oct":{"type":"THREE.Quaternion","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0},{"name":"w","val":1}]}}],"id":9},{"type":"hemi.Transform","props":[{"name":"name","val":"Collada_visual_scene_group"},{"name":"pickable","val":true},{"name":"visible","val":true},{"name":"useQuaternion","val":true},{"name":"children","id":[11,12,13,14,15,16]},{"name":"position","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0}]}},{"name":"scale","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":1},{"name":"y","val":1},{"name":"z","val":1}]}},{"name":"quaternion","oct":{"type":"THREE.Quaternion","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0},{"name":"w","val":1}]}}],"id":10},{"type":"hemi.Transform","props":[{"name":"name","val":"group_1"},{"name":"pickable","val":true},{"name":"visible","val":true},{"name":"useQuaternion","val":true},{"name":"children","id":[]},{"name":"position","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0}]}},{"name":"scale","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":1},{"name":"y","val":1},{"name":"z","val":1}]}},{"name":"quaternion","oct":{"type":"THREE.Quaternion","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0},{"name":"w","val":1}]}}],"id":11},{"type":"hemi.Mesh","props":[{"name":"name","val":"node-Mi24Gun"},{"name":"pickable","val":true},{"name":"visible","val":true},{"name":"useQuaternion","val":true},{"name":"children","id":[]},{"name":"position","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0.129179},{"name":"y","val":6.61959},{"name":"z","val":-0.208359}]}},{"name":"scale","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":1},{"name":"y","val":1},{"name":"z","val":1}]}},{"name":"quaternion","oct":{"type":"THREE.Quaternion","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0},{"name":"w","val":1}]}},{"name":"_opacity","val":null}],"id":12},{"type":"hemi.Mesh","props":[{"name":"name","val":"node-Mi24GunBall"},{"name":"pickable","val":true},{"name":"visible","val":true},{"name":"useQuaternion","val":true},{"name":"children","id":[]},{"name":"position","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0.129179},{"name":"y","val":6.51179},{"name":"z","val":-0.154533}]}},{"name":"scale","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":1},{"name":"y","val":1},{"name":"z","val":1}]}},{"name":"quaternion","oct":{"type":"THREE.Quaternion","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0},{"name":"w","val":1}]}},{"name":"_opacity","val":null}],"id":13},{"type":"hemi.Mesh","props":[{"name":"name","val":"node-Mi24Brotor"},{"name":"pickable","val":true},{"name":"visible","val":true},{"name":"useQuaternion","val":true},{"name":"children","id":[]},{"name":"position","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0.518162},{"name":"y","val":3.49322},{"name":"z","val":0.951206}]}},{"name":"scale","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":1},{"name":"y","val":1},{"name":"z","val":1}]}},{"name":"quaternion","oct":{"type":"THREE.Quaternion","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0},{"name":"w","val":1}]}},{"name":"_opacity","val":null}],"id":14},{"type":"hemi.Mesh","props":[{"name":"name","val":"node-Mi24Trotor"},{"name":"pickable","val":true},{"name":"visible","val":true},{"name":"useQuaternion","val":true},{"name":"children","id":[]},{"name":"position","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0.113524},{"name":"y","val":-10.4046},{"name":"z","val":1.63795}]}},{"name":"scale","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":1},{"name":"y","val":1},{"name":"z","val":1}]}},{"name":"quaternion","oct":{"type":"THREE.Quaternion","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0},{"name":"w","val":1}]}},{"name":"_opacity","val":null}],"id":15},{"type":"hemi.Transform","props":[{"name":"name","val":"node-Mi24"},{"name":"pickable","val":true},{"name":"visible","val":true},{"name":"useQuaternion","val":true},{"name":"children","id":[17]},{"name":"position","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0.517329},{"name":"y","val":3.50294},{"name":"z","val":0.71465}]}},{"name":"scale","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":1},{"name":"y","val":1},{"name":"z","val":1}]}},{"name":"quaternion","oct":{"type":"THREE.Quaternion","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0},{"name":"w","val":1}]}}],"id":16},{"type":"hemi.Mesh","props":[{"name":"name","val":"matrixTransform"},{"name":"pickable","val":true},{"name":"visible","val":true},{"name":"useQuaternion","val":true},{"name":"children","id":[]},{"name":"position","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":-3.97253e-7},{"name":"y","val":-9.08808},{"name":"z","val":-1.60066}]}},{"name":"scale","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":1},{"name":"y","val":1},{"name":"z","val":1}]}},{"name":"quaternion","oct":{"type":"THREE.Quaternion","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0},{"name":"w","val":1}]}},{"name":"_opacity","val":null}],"id":17},{"type":"hemi.ValueCheck","props":[{"name":"values","val":[{"keyCode":83,"altKey":false,"ctrlKey":false,"shiftKey":false}]},{"name":"valueParams","val":["msg:data"]},{"name":"func","val":"turnTo"},{"name":"args","val":[{"x":-1.5707963267948966,"y":0,"z":0},2,true]},{"name":"handler","id":7}],"id":18},{"type":"hemi.ValueCheck","props":[{"name":"values","val":[{"keyCode":82,"altKey":false,"ctrlKey":false,"shiftKey":false}]},{"name":"valueParams","val":["msg:data"]},{"name":"func","val":"setTurning"},{"name":"args","val":[{"x":0,"y":0,"z":0},{"x":0,"y":0,"z":0.3490658503988659}]},{"name":"handler","id":14}],"id":19},{"type":"hemi.Viewpoint","props":[{"name":"name","val":"Top View"},{"name":"eye","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":8.435577149195934},{"name":"y","val":35.356956425425054},{"name":"z","val":-1.0103418105065585}]}},{"name":"target","oct":{"type":"THREE.Vector3","props":[{"name":"x","val":0},{"name":"y","val":0},{"name":"z","val":0}]}},{"name":"fov","val":0.707107},{"name":"np","val":1},{"name":"fp","val":10000}],"id":20},{"type":"hemi.ValueCheck","props":[{"name":"values","val":[{"keyCode":67,"altKey":false,"ctrlKey":false,"shiftKey":false}]},{"name":"valueParams","val":["msg:data"]},{"name":"func","val":"moveToView"},{"name":"args","val":["id:20",3]},{"name":"handler","id":3}],"id":21},{"type":"hemi.ValueCheck","props":[{"name":"values","val":[20]},{"name":"valueParams","val":["msg:data.viewpoint"]},{"name":"func","val":"moveTo"},{"name":"args","val":[{"x":200,"y":0,"z":0},3,true]},{"name":"handler","id":7},{"name":"citizen","id":3}],"id":22}],"dispatch":{"nextId":18,"ents":[{"type":"hemi.dispatch.MessageSpec","props":[{"name":"src","val":"*"},{"name":"msg","val":"hemi.keyDown"},{"name":"targets","oct":[{"type":"hemi.dispatch.MessageTarget","props":[{"name":"name","val":"Copter boot"},{"name":"handler","id":18},{"name":"_dispatchId","val":13},{"name":"name","val":"Copter boot"},{"name":"func","val":"handleKeyMessage"},{"name":"args","val":null}]},{"type":"hemi.dispatch.MessageTarget","props":[{"name":"name","val":"rotor spin"},{"name":"handler","id":19},{"name":"_dispatchId","val":14},{"name":"name","val":"rotor spin"},{"name":"func","val":"handleKeyMessage"},{"name":"args","val":null}]},{"type":"hemi.dispatch.MessageTarget","props":[{"name":"name","val":"Initial Top View"},{"name":"handler","id":21},{"name":"_dispatchId","val":15},{"name":"name","val":"Initial Top View"},{"name":"func","val":"handleKeyMessage"},{"name":"args","val":null}]}]}]},{"type":"hemi.dispatch.MessageSpec","props":[{"name":"src","val":3},{"name":"msg","val":"hemi.stop"},{"name":"targets","oct":[{"type":"hemi.dispatch.MessageTarget","props":[{"name":"name","val":"Post Top View Flyaway"},{"name":"handler","id":22},{"name":"_dispatchId","val":16},{"name":"name","val":"Post Top View Flyaway"},{"name":"func","val":"handleMessage"},{"name":"args","val":null}]}]}]},{"type":"hemi.dispatch.MessageSpec","props":[{"name":"src","val":5},{"name":"msg","val":"hemi.cleanup"},{"name":"targets","oct":[]}]}]}}